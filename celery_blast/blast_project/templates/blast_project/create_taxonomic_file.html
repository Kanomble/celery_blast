{% extends "base.html" %}


{% block title %} Create Taxonomic File {% endblock %}

<!-- omit header section h1 h2 -->
{% block header %}
{% endblock %}

{% block page_description %}
Create a taxonomic nodes file by utilization of the get_species_taxids.sh script from the NCBI E-Direct tool suite.
{% endblock %}

{% block content %}
    <hr>
    <div class="row" style="display: none" id="loading_div">
        <div style="text-align: center" >
          <div class="container-fluid">
              <p align="center"><iframe src="https://giphy.com/embed/11FuEnXyGsXFba" width="200" height="200" frameBorder="0" class="giphy-embed" allowFullScreen></iframe></p>
              <p><a href="https://giphy.com/gifs/icon-loading-beaker-11FuEnXyGsXFba"></a></p>
          </div>
        </div>
    </div>

    <!-- post form input fields: species_name and user_email -->
    <div class="container-fluid" id="post_form_container">
        <form method="post" onsubmit="showLoader('loading_div','post_form_container')">
            {% csrf_token %}
            <div class="form-group">
                <label for="species_name"> Organism Name </label>
                <input type="text" class="form-control" id="species_name" name="species_name">
                {% if taxform.species_name.errors %}
                    <div class="alert alert-danger">
                        <strong>{{taxform.species_name.errors}}</strong>
                    </div>
                {% endif %}
            </div>
            <!-- if the user shouldn't be allowed to alter the email adress simplay add: style="display: none" to the next div element -->
            <div class="form-group">
                <label for="user_email"> User Email </label>
                <input type="text" class="form-control" id="user_email" name="user_email" value='{{taxform.user_email.value}}'>
                {% if taxform.user_email.errors %}
                    <div class="alert alert-danger">
                        <strong>{{taxform.user_email.errors}}</strong>
                    </div>
                {% endif %}
            </div>
            <input type = "submit" value = "Submit" class="btn btn-primary">
        </form>
    </div>

    <hr>

    <!-- list of available taxonomic node files (.taxids) -->
    <div class="container-fluid">
        <p style="text-align: center"> Currently Available Taxonomic Node Files </p>
        <ul>
            {% for taxfile in taxid_files %}
                <li>{{taxfile}}</li>
            {% endfor %}
        </ul>
    </div>

{% endblock %}


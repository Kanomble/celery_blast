{% extends "base.html" %}

{% block title %}
BLAST Database
{% endblock %}

{% block page_title %} Blast Database Table {% endblock %}
{% block infoheader %} SynMibi Blast Database Table{% endblock %}

{% block page_header %}
BLAST Database Details
{% endblock %}

{% block page_description %}
This website displays information of the {{Database.database_name}} BLAST database.
{% endblock %}

{% block content %}
<div class="dashboard_project_list_col">
    <table class="table table-hover" id="blastdatabase">
        <thead>
         <tr>
            <th>Index</th>
             <th> Assembly Accession</th>
             <th> Organism Name</th>
             <th> Taxid </th>
             <th> Species Taxid </th>
             <th> Assembly Level </th>
             <th> FTP Path </th>
         </tr>
        </thead>
        <tbody>
         <tr>
         </tr>
        </tbody>
    </table>
</div>
{% endblock %}

{% block scripts %}
<script>
$(document).ready(function() {
    $('#blastdatabase').DataTable({
        dom: 'Bfrtip',
        buttons: [
            'copy',
            'csv',
            'selectAll',
            'selectNone',
            'selectRows'
        ],
        select: true,

        "ajax": {
            "url": "{% url 'ajax_call' database_id=Database.id %}",
            "type": "GET",
            "dataSrc": "data",
        },
        "columns": [
            {"data":'index'},
            {"data":'assembly_accession'},
            {"data":'organism_name'},
            {"data":'taxid'},
            {"data":'species_taxid'},
            {"data":'assembly_level'},
            {"data":'ftp_path'}],
        "deferRender": true
        });
} );
</script>
{% endblock %}